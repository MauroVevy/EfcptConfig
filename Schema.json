{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "ConnectionString": {
      "title": "Connectionstring to the original database",
      "type": "string"
    },
    "Rootnamespace": {
      "title": "The root namespace: Usually the project namespace",
      "type": "string"
    },
    "SourceModelNamespace": {
      "title": "The namespace of source models",
      "type": "string"
    },
    "TargetModelNamespace": {
      "title": "The namespace of target models",
      "type": "string"
    },
    "SourcecontextNamespace": {
      "title": "Source Context name",
      "description": "Usually FluentisContext",
      "type": "string"
    },
    "TargetcontextNamespace": {
      "title": "Target Context name",
      "description": "Usually LocalContext",
      "type": "string"
    },
    "SourceContextName": {
      "title": "The name of source Context",
      "type": "string"
    },
    "TargetContextName": {
      "title": "The name of target Context",
      "type": "string"
    },
    "SourceEntityName": {
      "title": "The name of source entity class",
      "type": "string"
    },
    "TargetEntityName": {
      "title": "The name of target entity class",
      "type": "string"
    },
    "ContextFolder": {
      "title": "The folder contains the contexts",
      "type": "string"
    },
    "ModelFolder": {
      "title": "The name of the folder that will contain the generated models",
      "type": "string"
    },
    "Generate": {
      "type": "string",
      "default": "all",
      "title": "Type of files to generate",
      "enum": [
        "all",
        "dbcontext",
        "entities"
      ],
      "examples": [
        "all"
      ],
      "required": [
        "ConnectionString",
        "SourceModelNamespace",
        "TargetModelNamespace",
        "SourceContextName",
        "TargetContextName"
      ]
    },
    "Tables": {
      "title": "List of tables to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "NewName": {
                  "title": "New column name",
                  "type": "string"
                },
                "TargetName": {
                  "title": "New column name on database",
                  "type": "string"
                },
                "Disabled": {
                  "title": "Not considerated from elaboration",
                  "type": "boolean",
                  "default": true,
                  "description": "if disabled will be removed from new model"
                }
              },
              "required": [
                "Name",
                "NewName"
              ]
            }
          },
          "Relationships": {
            "title": "RelationsShips between two tables",
            "type": "array",
            "properties": {
              "Type": {
                "title": "type of relationships",
                "description": "Values OneToOne, OneToMany, ManyToMany",
                "type": "string",
                "enum": [
                  "OneToOne",
                  "OneToMany",
                  "ManyToMany"
                ]
              },
              "NewField": {
                "title": "New field description",
                "description": "The new field to add to partial class",
                "type": "object",
                "properties": {
                  "Class": {
                    "title": "class name",
                    "type": "string"
                  },
                  "Name": {
                    "title": "Field name",
                    "type": "string"
                  }
                },
                "required": [
                  "Class",
                  "Name"
                ]
              },
              "Source": {
                "title": "Source class",
                "type": "string"
              },
              "Key": {
                "title": "Key field",
                "type": "string"
              }
            },
            "required": [
              "Title",
              "Key"
            ]
          },
          "Schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "Name": {
            "title": "Original table name",
            "type": "string"
          },
          "NewName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "Columns",
          "Schema",
          "Name",
          "NewName"
        ]
      }
    },
    "Functions": {
      "title": "List of functions to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "NewName": {
                  "title": "New column name",
                  "type": "string"
                }
              },
              "required": [
                "Name",
                "NewName"
              ]
            }
          },
          "Schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "Name": {
            "title": "Original table name",
            "type": "string"
          },
          "NewName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "Columns",
          "Schema",
          "Name",
          "NewName"
        ]
      }
    },
    "Views": {
      "title": "List of views to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "NewName": {
                  "title": "New column name",
                  "type": "string"
                },
                "TargetName": {
                  "title": "New column name on database",
                  "type": "string"
                },
                "Disabled": {
                  "title": "Not considerated from elaboration",
                  "type": "boolean",
                  "default": true,
                  "description": "if disabled will be removed from new model"
                }
              },
              "required": [
                "Name",
                "NewName"
              ]
            }
          },
          "Schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "Name": {
            "title": "Original table name",
            "type": "string"
          },
          "NewName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "Columns",
          "Schema",
          "Name",
          "NewName"
        ]
      }
    },
    "StoreProcedures": {
      "title": "List of Store Procedures to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "Name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "NewName": {
                  "title": "New column name",
                  "type": "string"
                }
              },
              "required": [
                "Name",
                "NewName"
              ]
            }
          },
          "Schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "Name": {
            "title": "Original table name",
            "type": "string"
          },
          "NewName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "Columns",
          "Schema",
          "Name",
          "NewName"
        ]
      }
    }
  },
  "required": [
    "$schema",
    "name",
    "connectionString",
    "context",
    "models",
    "tables"
  ]
}
