{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "connectionString": {
      "title": "Connectionstring to the original database",
      "type": "string"
    },
    "rootnamespace": {
      "title": "The root namespace: Usually the project namespace",
      "type": "string"
    },
    "sourceModelNamespace": {
      "title": "The namespace of source models",
      "type": "string"
    },
    "targetModelNamespace": {
      "title": "The namespace of target models",
      "type": "string"
    },
    "sourcecontextNamespace": {
      "title": "Source Context name",
      "description": "Usually FluentisContext",
      "type": "string"
    },
    "targetcontextNamespace": {
      "title": "Target Context name",
      "description": "Usually LocalContext",
      "type": "string"
    },
    "sourceContextName": {
      "title": "The name of source Context",
      "type": "string"
    },
    "targetContextName": {
      "title": "The name of target Context",
      "type": "string"
    },
    "contextFolder": {
      "title": "The folder contains the contexts",
      "type": "string"
    },
    "modelFolder": {
      "title": "The name of the folder that will contain the generated models",
      "type": "string"
    },
    "generate": {
      "type": "string",
      "default": "all",
      "title": "Type of files to generate",
      "enum": [
        "all",
        "dbcontext",
        "entities"
      ],
      "examples": [
        "all"
      ],
      "required": [
        "connectionString",
        "sourceModelNamespace",
        "targetModelNamespace",
        "sourceContextName",
        "targetContextName"
      ]
    },
    "tables": {
      "title": "List of tables to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "newName": {
                  "title": "New column name",
                  "type": "string"
                },
                "targetName": {
                  "title": "New column name on database",
                  "type": "string"
                },
                "disabled": {
                  "title": "Not considerated from elaboration",
                  "type": "boolean",
                  "default": true,
                  "description": "if disabled will be removed from new model"
                }
              },
              "required": [
                "name",
                "newName"
              ]
            }
          },
          "relationships": {
            "title": "RelationsShips between two tables",
            "type": "array",
            "properties": {
              "type": {
                "title": "type of relationships",
                "description": "Values OneToOne, OneToMany, ManyToMany",
                "type": "string",
                "enum": [
                  "OneToOne",
                  "OneToMany",
                  "ManyToMany"
                ]
              },
              "newField": {
                "title": "New field description",
                "description": "The new field to add to partial class",
                "type": "object",
                "properties": {
                  "class": {
                    "title": "class name",
                    "type": "string"
                  },
                  "name": {
                    "title": "Field name",
                    "type": "string"
                  }
                },
                "required": [
                  "class",
                  "name"
                ]
              },
              "source": {
                "title": "Source class",
                "type": "string"
              },
              "key": {
                "title": "Key field",
                "type": "string"
              }
            },
            "required": [
              "title",
              "key"
            ]
          },
          "schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "name": {
            "title": "Original table name",
            "type": "string"
          },
          "newName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "columns",
          "schema",
          "name",
          "newName"
        ]
      }
    },
    "functions": {
      "title": "List of functions to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "newName": {
                  "title": "New column name",
                  "type": "string"
                }
              },
              "required": [
                "name",
                "newName"
              ]
            }
          },
          "schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "name": {
            "title": "Original table name",
            "type": "string"
          },
          "newName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "columns",
          "schema",
          "name",
          "newName"
        ]
      }
    },
    "views": {
      "title": "List of views to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "newName": {
                  "title": "New column name",
                  "type": "string"
                },
                "targetName": {
                  "title": "New column name on database",
                  "type": "string"
                },
                "disabled": {
                  "title": "Not considerated from elaboration",
                  "type": "boolean",
                  "default": true,
                  "description": "if disabled will be removed from new model"
                }
              },
              "required": [
                "name",
                "newName"
              ]
            }
          },
          "schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "name": {
            "title": "Original table name",
            "type": "string"
          },
          "newName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "columns",
          "schema",
          "name",
          "newName"
        ]
      }
    },
    "StoreProcedures": {
      "title": "List of Store Procedures to import in the new database",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "columns": {
            "title": "List of columns to import in the new database",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "title": "Original column name",
                  "type": "string"
                },
                "newName": {
                  "title": "New column name",
                  "type": "string"
                }
              },
              "required": [
                "name",
                "newName"
              ]
            }
          },
          "schema": {
            "title": "Owner schema of table",
            "type": "string"
          },
          "name": {
            "title": "Original table name",
            "type": "string"
          },
          "newName": {
            "title": "New table name and entity name",
            "type": "string"
          }
        },
        "required": [
          "columns",
          "schema",
          "name",
          "newName"
        ]
      }
    }
  },
  "required": [
    "$schema",
    "name",
    "connectionString",
    "context",
    "models",
    "tables"
  ]
}
